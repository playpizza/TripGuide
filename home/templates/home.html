{% extends "base.html" %}
{% load static %}

{% block link %}{% endblock %}

{% block title %}TripGuide{% endblock %}


{% block script %}
<script type="text/javascript">
  var contentsUrl = "{% url 'Contents:get_contents' %}";
  var boardListUrl = "{% url 'Board:list' %}";
  var reviewListUrl = "{% url 'Board:list' %}";
  var contentsUrls = {};
  var boardUrls = {};
  var reviewUrls = {};
</script>
{% endblock %}



{% block contents %}
<div class="flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
  <div class="d-flex align-items-center">
    <p class="h2 m-3">통합검색</p>
  </div>
  <div class="d-flex align-items-center ms-3">
    <form method="GET" class="w-100 me-3 align-items-center flex-fill" action="{% url 'Contents:get_contents' %}">
      <input type="search" name="keyword" class="form-control" placeholder="Search..." aria-label="Search">
    </form>
  </div>
</div>

<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3 mb-4 border-bottom">
  <!-- TODO data받으면 for문으로 다시 작성 -->
  <div class="col">
    <div class="card shadow-sm">
      <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg"
        role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
        <title>Placeholder</title>
        <rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef"
          dy=".3em">Thumbnail</text>
      </svg>

      <div class="card-body">
        <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content.
          This content is a little bit longer.</p>
        <div class="d-flex justify-content-between align-items-center">
          <div class="btn-group">
            <button type="button" class="btn btn-sm btn-outline-secondary"
              onclick="location.href=contents1Url;">View</button>
            <!-- <button type="button" class="btn btn-sm btn-outline-secondary">Edit</button> -->
          </div>
          <small class="text-muted">평점</small>
        </div>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="card shadow-sm">
      <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg"
        role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
        <title>Placeholder</title>
        <rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef"
          dy=".3em">Thumbnail</text>
      </svg>

      <div class="card-body">
        <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content.
          This content is a little bit longer.</p>
        <div class="d-flex justify-content-between align-items-center">
          <div class="btn-group">
            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="moveContent2();">View</button>
          </div>
          <small class="text-muted">평점</small>
        </div>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="card shadow-sm">
      <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg"
        role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
        <title>Placeholder</title>
        <rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef"
          dy=".3em">Thumbnail</text>
      </svg>

      <div class="card-body">
        <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content.
          This content is a little bit longer.</p>
        <div class="d-flex justify-content-between align-items-center">
          <div class="btn-group">
            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="moveContent3();">View</button>
          </div>
          <small class="text-muted">평점</small>
        </div>
      </div>
    </div>
  </div>
  <div class="clear"></div>
</div>

<div class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4">
  <div class="bd-example flex-fill m-3">
    <div class="d-flex">
      <p class="h2 mb-3 flex-fill">베스트 게시글</p>
      <button type="button" class="btn btn-sm btn-outline-secondary mr-3"
        onclick="location.href=boardListUrl;">More</button>
    </div>
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">순위</th>
          <th scope="col">제목</th>
          <th scope="col">추천수</th>
          <th scope="col">게시일</th>
        </tr>
      </thead>
      <tbody>
        {% for b in bestBoard %}
        <script>
          boardUrls['{{b.id}}'] = "{% url 'Board:detail' b.id %}";
        </script>
        <tr onclick="location.href=boardUrls['{{b.id}}'];">
          <th scope="row">{{forloop.counter}}</th>
          <td>{{b.title}}</td>
          <td>{{b.like_count}}</td>
          <td>{{b.registered_date|date:'Y-m-d'}}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <div class="bd-example flex-fill m-3">
    <div class="d-flex">
      <p class="h2 mb-3 flex-fill">베스트 리뷰</p>
      <button type="button" class="btn btn-sm btn-outline-secondary mr-3"
        onclick="location.href=reviewListUrl;">More</button>
    </div>
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">순위</th>
          <th scope="col">제목</th>
          <th scope="col">추천수</th>
          <th scope="col">게시일</th>
        </tr>
      </thead>
    </table>
  </div>
</div>




<div class="clear"></div>


{% endblock %}